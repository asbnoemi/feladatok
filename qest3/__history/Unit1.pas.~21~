unit Unit1;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Data.DB, IBX.IBCustomDataSet,
  IBX.IBTable, IBX.IBDatabase, Vcl.Grids, Vcl.DBGrids, Vcl.StdCtrls,
  Vcl.ExtCtrls, Vcl.ToolWin, Vcl.ComCtrls;

type
  TForm1 = class(TForm)
    IBDatabase1: TIBDatabase;
    IBTable1: TIBTable;
    DataSource1: TDataSource;
    DBGrid1: TDBGrid;
    IBTransaction1: TIBTransaction;
    ToolBar1: TToolBar;
    ujBT: TButton;
    torlBT: TButton;
    renBT: TButton;
    megsBT: TButton;
    refBT: TButton;
    kilBT: TButton;
    Label1: TLabel;
    Label2: TLabel;
    Label3: TLabel;
    NevEdit: TEdit;
    SulEdit: TEdit;
    AnyNevEdit: TEdit;

    procedure IBTable1BeforePost(DataSet: TDataSet);
    procedure DeletBTClick(Sender: TObject);
    procedure Button2Click(Sender: TObject);
    procedure ujBTClick(Sender: TObject);
    procedure refBTClick(Sender: TObject);
    procedure kilBTClick(Sender: TObject);
    procedure torlBTClick(Sender: TObject);
    procedure renBTClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form1: TForm1;

implementation

{$R *.dfm}



procedure TForm1.Button2Click(Sender: TObject);
begin
IBTable1.Insert();
end;

procedure TForm1.DeletBTClick(Sender: TObject);
begin
IBTable1.Delete();
end;

procedure TForm1.IBTable1BeforePost(DataSet: TDataSet);
begin

  if(mrNo= MessageDlg('biztos',TMsgDlgType.mtConfirmation,[TMsgDlgBtn.mbYes, TMsgDlgBtn.mbNo],0))
then
begin
if DataSet.State in [dsEdit, dsInsert] then
DataSet.Cancel();
Abort;
end ;
end;

procedure TForm1.kilBTClick(Sender: TObject);
begin
     close;
end;

procedure TForm1.refBTClick(Sender: TObject);
begin
IBTable1.Refresh();
end;

procedure TForm1.renBTClick(Sender: TObject);
begin

   IBTable1.Insert();
   IBTable1.FieldByName('NEV').AsString:= nevEdit.Text;
   IBTable1.FieldByName('SZUL_DATUM').AsDateTime := StrToDate(SulEdit.Text) ;
   IBTable1.FieldByName('ANYJA_NEVE').AsString:= AnyNevEdit.Text;
   IBTable1.post;
end;

procedure TForm1.torlBTClick(Sender: TObject);
begin

if(mrYes= MessageDlg('biztos törli?',TMsgDlgType.mtConfirmation,[TMsgDlgBtn.mbYes, TMsgDlgBtn.mbNo],0))
then
begin
IBTable1.Delete();
end ;
end;

procedure TForm1.ujBTClick(Sender: TObject);
begin
NevEdit.Enabled :=true;
SulEdit.Enabled:=true;
AnyNevEdit.Enabled:=true;
renBT.Enabled:=true;
megsBT.Enabled:=true;
ujBT.Enabled:=false;
kilBT.Enabled:=false;
refBT.Enabled:=false;
torlBT.Enabled:=false;
end;

end.
